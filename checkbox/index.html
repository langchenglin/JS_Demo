<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        body,dl,dt,dd,p{margin:0;padding:0;}
        body{font-family:Tahoma;font-size:12px;}
        label,input,a{vertical-align:middle;}
        label{padding:0 10px 0 5px;}
        a{color:#09f;text-decoration:none;}
        a:hover{color:red;}
        dl{width:120px;margin:10px auto;padding:10px 5px;border:1px solid #666;border-radius:5px;background:#fafafa;}
        dt{padding-bottom:10px;border-bottom:1px solid #666;}
        dt label{font-weight:700;}
        p{margin-top:10px;}
    </style>
    <script>
        window.onload=function(){

           //获取节点
            var inp=document.getElementsByTagName('input'),
                oA=document.getElementsByTagName('a')[0],
                lab=document.getElementsByTagName('label')[0];
             function checkAll(){
                 for(var i= 1,n=0;i<inp.length;i++){
                    inp[i].checked && n++;
                 }
                 //把全选框的值赋给了它的下标 当全选选中 是它所有的下标 只要下边有一个没有选中那么就让全选取消
                 inp[0].checked=n==inp.length-1; //当调用这个函数时 点击全选是 把所有的复选框都选中
                 lab.innerHTML=inp[0].checked?"全不选":"全选"; //判断全选是否是选中的状态 是的话就是全选
             }
            //点击全选
            inp[0].onclick=function(){
                 for(var i=1;i<inp.length;i++){
                     inp[i].checked=this.checked;
                 }
                checkAll();
            }

            //点击反选
            oA.onclick=function(){
                for(var i=1;i<inp.length;i++){
                   inp[i].checked=!inp[i].checked;
                }
                checkAll();
            }
            //根据复选个数 更新复选框的状态 点击每一个复选框 只要有一个没有选中 那么它的全选也会取消
            for(var i=1;i<inp.length;i++){
                inp[i].onclick=function(){
                    checkAll();
                }
            }


        }

    </script>
</head>
<body>
<dl>
    <dt><input type="checkbox" id="checkAll" /><label>全选</label><a href="javascript:;">反选</a></dt>
    <dd>
        <p><input type="checkbox" name="item" /><label>选项（一）</label></p>
        <p><input type="checkbox" name="item" /><label>选项（二）</label></p>
        <p><input type="checkbox" name="item" /><label>选项（三）</label></p>
        <p><input type="checkbox" name="item" /><label>选项（四）</label></p>
        <p><input type="checkbox" name="item" /><label>选项（五）</label></p>
        <p><input type="checkbox" name="item" /><label>选项（六）</label></p>
        <p><input type="checkbox" name="item" /><label>选项（七）</label></p>
        <p><input type="checkbox" name="item" /><label>选项（八）</label></p>
        <p><input type="checkbox" name="item" /><label>选项（九）</label></p>
        <p><input type="checkbox" name="item" /><label>选项（十）</label></p>
    </dd>
</dl>

</body>
</html>